{% extends 'Base.html' %}

{% block content %}
<script>function select_all() {
let selects = document.querySelectorAll('select');
    selects.forEach(select => {
        select.value = "Present";
    });}</script>
<button onclick="select_all()">Set All Present</button>
<form action="" method="post">
    <table>
        <input type="hidden" name="session_id" value="{{ session_id }}" hidden>
        <tr>
            <th>Student Name</th>
            <th>Attendance</th>
        </tr>
        {% for item in results %}
            <tr>
                <td>{{ item[0] }}</td>
                <td><select name="{{ item[1] }}" id="{{ item[1] }}">
                    <option value="Present" {% if item[2] == 'Present' %}selected{% endif %}>Present</option>
                    <option value="Late" {% if item[2] == 'Late' %}selected{% endif %}>Late</option>
                    <option value="Absent" {% if item[2] == None %}selected{% endif %}>Absent</option>
                </select></td>
            </tr>
        {% endfor %}
    </table>
    <input type="submit" value="Update Attendance"><br>
    <input type="reset" value="Reset Attendance">
</form>
{% endblock %}

